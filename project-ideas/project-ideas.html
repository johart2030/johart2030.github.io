<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Project Ideas | johart2030</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32-project-ideas-html.png">
    <link rel="icon" type="image/x-icon" href="favicon-project-ideas-html.ico">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d0d0f;
      color: #ffffff;
      margin: 0;
      padding: 20px;
      max-width: 800px;
      line-height: 1.5;
      margin-left: auto;
      margin-right: auto;
    }

    h1 {
      text-align: center;
      font-size: 36px;
      color: #7db7ff;
      margin-bottom: 20px;
      font-weight: 600;
    }

    .card {
      background: #16161a;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 0 12px rgba(0,0,0,0.35);
      margin-bottom: 22px;
      border: 1px solid #222;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid #333;
      background: #0f0f12;
      color: #cfcfcf;
      font-size: 14px;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: #7db7ff;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      background: linear-gradient(to right, #0059ff, #78aaff);
      border: none;
      border-radius: 10px;
      font-size: 16px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: 0.2s;
    }

    button:hover {
      filter: brightness(1.15);
    }

    h2 {
      color: #7db7ff;
      margin-top: 40px;
      font-size: 28px;
    }

    .idea {
      background: #16161a;
      border-radius: 10px;
      padding: 14px;
      margin-top: 12px;
      border-left: 4px solid #7db7ff;
      border: 1px solid #222;
      box-shadow: 0 0 8px rgba(0,0,0,0.25);
    }

    .idea strong {
      color: #78aaff;
      font-size: 15px;
    }

    a {
      color: #78aaff;
    }
#homeBtn {
    width: auto; /* Let it fit its content */
    min-width: 50px; /* optional, for consistency */
    position: fixed;
    top: 15px;
    right: 15px;
    padding: 10px 14px;
    border-radius: 10px;
    border: 1px solid #888; /* fallback if var(--border) isn't defined */
    background: #010a30;
    cursor: pointer;
    font-weight: 600;
    box-shadow: 0 1px 4px rgba(0,0,0,0.2);
    transition: 0.15s;
    z-index: 1000;
}

#homeBtn:hover {
    background: #eef1ff;
}

#homeBtn:active {
    transform: scale(0.97);
}
  </style>

</head>
<body>

<h1>Suggest a Project Idea</h1>

<button id="homeBtn">üè† Home</button>

<div class="card">
  <label>Your Name</label>
  <input id="nameInput" placeholder="Optional" />

  <label>Your Idea</label>
  <textarea id="ideaInput" rows="4" placeholder="What project should I build next?"></textarea>

  <button id="submitBtn">Submit Idea</button>
</div>

<h2>Submitted Ideas</h2>
<div id="ideasList"></div>


<!-- Firebase + Firestore -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { 
    getFirestore, 
    collection, 
    addDoc, 
    getDocs, 
    orderBy, 
    query,
    serverTimestamp
  } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCRbDTrm49YTuJfPFnV9BvCBoOw6P69Qm4",
    authDomain: "github-johart2030.firebaseapp.com",
    projectId: "github-johart2030",
    storageBucket: "github-johart2030.firebasestorage.app",
    messagingSenderId: "565140012310",
    appId: "1:565140012310:web:d6cd3ea57a96ec1e132437",
    measurementId: "G-618J52CF8J"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const nameInput = document.getElementById("nameInput");
  const ideaInput = document.getElementById("ideaInput");
  const submitBtn = document.getElementById("submitBtn");
  const ideasList = document.getElementById("ideasList");

  submitBtn.addEventListener("click", async () => {
    const name = nameInput.value.trim() || "Anonymous";
    const idea = ideaInput.value.trim();

    if (!idea) {
      alert("Please enter an idea.");
      return;
    }

    await addDoc(collection(db, "projectIdeas"), {
      name,
      idea,
      time: serverTimestamp()   // <-- Correct Firebase timestamp
    });

    nameInput.value = "";
    ideaInput.value = "";
    loadIdeas();
  });

async function loadIdeas() {
  ideasList.innerHTML = "";

  const q = query(collection(db, "projectIdeas"), orderBy("time", "desc"));
  const querySnapshot = await getDocs(q);

  querySnapshot.forEach((doc) => {
    const data = doc.data();

    // Convert timestamp ‚Üí JS Date ‚Üí readable string
    let displayTime = "Just now";
    if (data.time && data.time.toDate) {
      displayTime = data.time.toDate().toLocaleString([], {
        year: "numeric",
        month: "short",
        day: "numeric",
        hour: "numeric",
        minute: "2-digit"
      });
    }

    const div = document.createElement("div");
    div.className = "idea";
    div.innerHTML = `
      <strong>${data.name}</strong> <br>
      ${data.idea} <br><br>
      <small style="color:#888;">${displayTime}</small>
    `;
    ideasList.appendChild(div);
  });
}


  loadIdeas();
  const homeBtn = document.getElementById('homeBtn');
homeBtn.addEventListener('click', () => {
    window.location.href = 'https://johart2030.github.io'; // replace with your main page URL
});
</script>

</body>
</html>
